version: 2

models:
  - name: sales
    description: sales has a record for each customer, order, product combination
    columns:
      - name: item_id
        description: unique value for each line
        tests:
          - unique
          - not_null
      - name: customer_id
        description: unique ID for a customer
      - name: order_id
        description: order id
      - name: item_number
        description: an item sequence number within this order; values from 1 to 5
      - name: product_id
        description: allows us to join to the products table, synonyms sku
      - name: item_price
        description: order value - this is just for this product
      - name: quantity
        description: number of pizzas
      - name: timestamp
        description: the time the order was created

  - name: orders
    description: order information
    columns:
      - name: id
        description: order id
      - name: payment_method
        description: credit or cash
      - name: delivery
        description: boolean, is it delivery
      - name: type
        description: whether the order is a subscription order
      - name: customer_id
      - name: loyalty_status
      - name: discount_code
      - name: feedback_rating
      - name: delivery_time
      - name: preparation_time
      #- name: allergens
      - name: special_request
      - name: referral_source
      - name: cook_id
      - name: location_id

  - name: products
    description: order information
    columns:
      - name: id
        description: the unique identifier of the product
      - name: pizza_size
        description: pizza size; small, medium or large
      - name: pizza_type
        description: the type of pizza
      - name: price
        description: price in USD per pizza

  - name: customers
    description: This table contains customer information.
    columns:
      - name: id
        description: The unique identifier for the customer.
        tests:
          - unique
          - not_null
      - name: name
        description: The name of the customer.
        tests:
          - not_null
      - name: address
        description: The address of the customer.
        tests:
          - not_null
      - name: phone_number
        description: The phone number of the customer.
        tests:
          - not_null
